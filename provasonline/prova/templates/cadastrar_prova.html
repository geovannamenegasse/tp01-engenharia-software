{% extends "base.html" %}
{% set active_page = "provas" %}
{% block title %}Criar Prova{% endblock %}

{% block content %}

<form action="" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />

    <div class="container">
        <div class="mb-3">
            <label for="quantidade" class="form-label">Pergunta 1:</label>
            <input type="text" class="form-control" id="pergunta" name="pergunta0">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">Opção 1</span>
            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">Opção 2</span>
            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">Opção 3</span>
            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">Opção 4</span>
            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
        </div>

        <div id="saida"></div>

        <div class="d-flex justify-content-between">
            <a class="btn btn-primary" id="add_quest">Adicionar</a>
            <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
    </div>    

    <input type="hidden" id="numero_de_perguntas" name="numero_de_perguntas" value="1" />
</form>

<template id="templateLinha">
    <br>
    <div class="mb-3">
        <label for="pergunta" class="form-label">Pergunta</label>
        <input type="text" class="form-control" id="pergunta">
    </div>

    <div class="input-group mb-3">
        <span class="input-group-text" id="inputGroup-sizing-default">Opção 1</span>
        <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text" id="inputGroup-sizing-default">Opção 2</span>
        <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text" id="inputGroup-sizing-default">Opção 3</span>
        <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text" id="inputGroup-sizing-default">Opção 4</span>
        <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
    </div>
</template>

<script>
    let cont = 1;
    document.getElementById("add_quest").onclick = function clone() {
        let container = document.getElementById("saida");  
        let tempLinha = document.querySelector('#templateLinha');
        let clone = document.importNode(tempLinha.content, true); 
        var numero_de_perguntas = document.getElementById("numero_de_perguntas");
        
        const label = clone.querySelector("label");
        label.textContent = "Pergunta " + (cont+1) + ": ";
        clone.querySelector("input").name = "pergunta" + cont;
        
        container.appendChild(clone);
        cont++;

        numero_de_perguntas.value = cont;
    }
</script>

{% endblock %}